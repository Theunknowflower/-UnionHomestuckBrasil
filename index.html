
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Homestuck — Tradução de Fã</title>

<!-- Fonte Press Start 2P -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<!-- CSS -->
<link rel="stylesheet" href="assets/css/style.css">

<!-- Supabase (cliente) - necessário antes do script.js -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>

<body>

<header>
<div class="brand-left">
<div>
<div class="logo">HOMESTUCK</div>
<div class="subtitle logo-sub">TRADUÇÃO DE FÃ — PROTÓTIPO</div>
</div>
</div>

<nav class="tabs" aria-label="Navegação principal">
<div class="tab" role="button" onclick="openTab('ler')">LER</div>
<div class="tab" role="button" onclick="openTab('traducao')">TRADUÇÃO</div>
<div class="tab" role="button" onclick="openTab('conquistas')">CONQUISTAS</div>
<div class="tab" role="button" onclick="openTab('data')">DATA</div>
<div class="tab" role="button" onclick="openTab('temas')">TEMAS</div>
</nav>

<div class="user-area">
<div style="display:flex;flex-direction:column;align-items:flex-end">
<div style="display:flex;gap:8px;align-items:center">
<div class="user-avatar" id="userAvatar">U</div>
<div style="color:var(--branco);opacity:.95" id="headerUser">Convidado</div>
</div>
<div style="margin-top:6px">
<button class="btn-small" id="loginWithDiscord">Entrar com Discord</button>
</div>
</div>
</div>
</header>

<main class="container" id="app">
<section>
<!-- LER -->
<div id="ler" class="panel" style="display:block">
<h2>Ler — Página atual</h2>
<div class="reader-image" id="readerArea">
<img id="readerImg" src="exemplo.png" alt="Painel da comic" />
<div class="reader-cta">
<button class="btn-main" id="readPageBtn">Ler esta página (embed)</button>
</div>
</div>

<div class="embed-frame" id="embedWrap" style="display:none">
<iframe id="pageEmbed" srcdoc="<h3 style='font-family:Arial'>Preview da próxima página</h3><p>Conteúdo simulado — em produção carregue por rota.</p>"></iframe>
</div>

<div class="reader-footer">
<div class="small-actions">
<button class="btn-small" id="savePageBtn">💾 Salvar</button>
<button class="btn-small" id="prevPageBtn">◀ Anterior</button>
<button class="btn-small" id="openDataBtn">📅 Data</button>
</div>
<div class="meta" id="pageMeta">Capítulo 1 • Página 12</div>
</div>

<div class="panel" style="margin-top:12px">
<h3>Comentários</h3>
<div id="commentSection">
<div style="color:#888">Você precisa estar logado para comentar.</div>
</div>
</div>
</div>

<!-- TRADUÇÃO -->
<div id="traducao" class="panel" style="display:none;margin-top:16px">
<h2>Tradução — Informações do Projeto</h2>
<div class="info-box">
<p><strong>Equipe:</strong> Rafa + Comunidade</p>
<p><strong>Status:</strong> Ato 1 — em progresso</p>
<p><strong>Domínio:</strong> sem domínio (por enquanto)</p>
<p><strong>Licença:</strong> Trabalho de fã, sem fins lucrativos. Homestuck © Andrew Hussie</p>
<p class="muted">Observação: Em produção incluir página de termos, política de conteúdo e moderação.</p>
</div>
</div>

<!-- CONQUISTAS -->
<div id="conquistas" class="panel" style="display:none;margin-top:16px">
<h2>Conquistas & Fanartes</h2>
<div id="achievementsList"></div>
<div style="margin-top:12px">
<h4>Fanartes enviadas</h4>
<div id="fanartList" class="forum"></div>
</div>
</div>

<!-- DATA -->
<div id="data" class="panel" style="display:none;margin-top:16px">
<h2>Data — Índice de páginas</h2>
<div id="indexList" class="post" style="padding:10px">
<!-- dynamically filled -->
</div>
</div>

<!-- TEMAS -->
<div id="temas" class="panel" style="display:none;margin-top:16px">
<h2>Escolher Tema</h2>
<div id="themeList" class="theme-buttons"></div>
<div style="margin-top:12px">
<h4>Admin: Criar novo tema</h4>
<input type="text" id="themeName" placeholder="Nome do tema">
<input type="color" id="themeBg">
<input type="color" id="themeColor">
<button class="btn-main" id="createThemeBtn">Criar Tema</button>
</div>
</div>
</section>

<aside class="side-section">
<div class="info-box">
<h3>Informações do Projeto</h3>
<p><strong>Equipe:</strong> Rafa + Comunidade</p>
<p class="muted"><strong>Observação:</strong> Trabalho de fã para fãs — sem fins lucrativos.</p>
</div>

<div class="info-box">
<h4>Criar conta / Perfil</h4>
<div style="display:flex;gap:8px">
<button class="btn-main" id="openSignupBtn">Entrar / Criar conta (Discord)</button>
</div>
<div style="margin-top:8px;font-size:13px;color:#666">
Para comentar, postar e salvar fanarts você precisa de conta.
</div>
</div>

<div class="info-box">
<h4>Conquistas salvas</h4>
<div id="savedPopups">Nenhuma ainda</div>
</div>

<div class="info-box">
<h4>Comunidade / Fórum</h4>
<div style="font-size:13px;color:#444">
Espaço para postar desenhos, vídeos e notícias. Moderado.
</div>
<div style="margin-top:8px">
<button class="btn-small" id="openNewPostBtn">Novo post</button>
</div>
</div>
</aside>
</main>

<!-- Quick profile -->
<div class="profile-quick" id="profileQuick">
<div id="pqContent">
<strong>Sem conta</strong>
<small>Crie um perfil com Discord</small>
</div>
</div>

<!-- Forum sidebar -->
<div id="forumSidebar" class="forum-sidebar" aria-hidden="true">
  <div class="forum-header">
    <h3>Fórum</h3>
    <div class="forum-tabs">
      <button onclick="filterPosts('all')" class="forum-tab">Todos</button>
      <button onclick="filterPosts('friends')" class="forum-tab">Amigos</button>
      <button onclick="filterPosts('top')" class="forum-tab">Mais Curtidos</button>
    </div>
    <button id="closeForumBtn" class="close-forum">✕</button>
  </div>
  <div id="forumList" class="forum-list"></div>
</div>

<!-- Modals -->
<div id="signupModal" class="modal" aria-hidden="true">
  <div class="modal-inner">
    <button class="modal-close" onclick="closeModal('signupModal')">✕</button>
    <h3>Entrar / Criar conta</h3>
    <p>Use o login pelo Discord (recomendado)</p>
    <button class="btn-main" id="discordLoginBtn">Entrar com Discord</button>
  </div>
</div>

<div id="newPostModal" class="modal" aria-hidden="true">
  <div class="modal-inner">
    <button class="modal-close" onclick="closeModal('newPostModal')">✕</button>
    <h3>Novo Post</h3>
    <textarea id="newPostContent" placeholder="Escreva sua postagem..." style="width:100%;height:120px"></textarea>
    <div style="margin-top:8px">
      <button class="btn-main" id="publishPostBtn">Publicar</button>
    </div>
  </div>
</div>

<!-- profile modal (used for viewing a post or user profile) -->
<div id="profileModal" class="modal" aria-hidden="true">
  <div class="modal-inner">
    <button class="modal-close" onclick="closeModal('profileModal')">✕</button>
    <div id="profileDetails"></div>
  </div>
</div>

<!-- admin modal -->
<div id="adminModal" class="modal" aria-hidden="true">
  <div class="modal-inner">
    <button class="modal-close" onclick="closeModal('adminModal')">✕</button>
    <h3>Painel Admin</h3>
    <label>Top bar color: <input id="adminTopbarColor" type="color"></label><br>
    <label>Background color: <input id="adminBgColor" type="color"></label><br>
    <label>Background image URL: <input id="adminBgImage" type="text" placeholder="https://..."></label><br>
    <button id="saveAdminSettingsBtn" class="btn-main">Salvar</button>
  </div>
</div>

<script src="assets/js/script.js"></script>
</body>
</html>

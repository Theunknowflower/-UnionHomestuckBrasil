<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Homestuck â€” TraduÃ§Ã£o de FÃ£ (Orion)</title>





<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="assets/css/style.css">

<!-- Set your Supabase project keys here (replace before deploy) -->
<script>
  // IMPORTANT: replace these with your real Supabase URL and ANON KEY (or inject via environment).
  window.SUPABASE_URL = window.SUPABASE_URL || 'https://vhopcdzemdiqtvrwmqqo.supabase.co';
  window.SUPABASE_ANON_KEY = window.SUPABASE_ANON_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZob3BjZHplbWRpcXR2cndtcXFvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjc2MTUsImV4cCI6MjA3MzgwMzYxNX0.j8podlPF9lBz2LfzDq1Z0NYF2QA3tQRK-tOIalWz2sI';
</script>

<!-- Supabase client -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>
<header>
  <div class="brand-left">
    <div>
      <div class="logo">HOMESTUCK</div>
      <div class="subtitle logo-sub">TRADUÃ‡ÃƒO DE FÃƒ â€” ORION</div>
    </div>
  </div>

  <nav class="tabs" aria-label="NavegaÃ§Ã£o principal">
    <div class="tab" role="button" onclick="openTab('ler')">LER</div>
    <div class="tab" role="button" onclick="openTab('traducao')">TRADUÃ‡ÃƒO</div>
    <div class="tab" role="button" onclick="openTab('conquistas')">CONQUISTAS</div>
    <div class="tab" role="button" onclick="openTab('data')">DATA</div>
    <div class="tab" role="button" onclick="openTab('temas')">TEMAS</div>
  </nav>

  <div class="user-area">
    <div style="display:flex;flex-direction:column;align-items:flex-end">
      <div style="display:flex;gap:8px;align-items:center">
        <div class="user-avatar" id="userAvatar">U</div>
        <div id="headerUser">Convidado</div>
      </div>
      <div style="margin-top:6px">
      <button class="btn-small" id="loginWithDiscord">Entrar com Discord</button>
        <button class="btn-small" id="signOutBtn" style="display:none">Sair</button>
      </div>
    </div>
  </div>
</header>

<main class="container" id="app">
  <section>
    <!-- LER -->
    <div id="ler" class="panel" style="display:block">
      <h2>Ler â€” PÃ¡gina atual</h2>
      <div class="reader-image" id="readerArea">
        <img id="readerImg" src="exemplo.png" alt="Painel da comic" />
        <div class="reader-cta">
          <button class="btn-main" id="readPageBtn">Ler esta pÃ¡gina (embed)</button>
        </div>
      </div>
    </div>

    <!-- TRADUÃ‡ÃƒO -->
    <div id="traducao" class="panel" style="display:none;margin-top:16px">
      <h2>TraduÃ§Ã£o â€” InformaÃ§Ãµes do Projeto</h2>
      <div class="info-box">
        <p><strong>Equipe:</strong> Rafa + Comunidade</p>
        <p><strong>Status:</strong> Ato 1 â€” em progresso</p>
        <p><strong>LicenÃ§a:</strong> Trabalho de fÃ£, sem fins lucrativos. Homestuck Â© Andrew Hussie</p>
      </div>
    </div>

    <!-- CONQUISTAS -->
    <div id="conquistas" class="panel" style="display:none;margin-top:16px">
      <h2>Conquistas & Fanartes</h2>
      <div id="achievementsList"></div>
    </div>

    <!-- DATA (INDEX / FÃ³rum) -->
    <div id="data" class="panel" style="display:none;margin-top:16px">
      <h2>Data â€” FÃ³rum</h2>
      <div style="margin-bottom:12px">
        <button class="btn-main" id="openNewPostBtn">Novo Post</button>
      </div>

      <div id="forumList" class="forum-list"></div>
    </div>

    <!-- TEMAS -->
    <div id="temas" class="panel" style="display:none;margin-top:16px">
      <h2>Escolher Tema</h2>
      <div id="themeList" class="theme-buttons"></div>
    </div>
  </section>

  <aside class="side-section">
    <div class="info-box">
      <h3>InformaÃ§Ãµes do Projeto</h3>
      <p><strong>Equipe:</strong> Rafa + Comunidade</p>
    </div>
  </aside>
</main>

<!-- New post modal -->
<div id="newPostModal" class="modal" aria-hidden="true" style="display:none">
  <div class="modal-inner">
    <button class="modal-close" onclick="closeNewPost()">âœ•</button>
    <h3>Novo Post</h3>
    <textarea id="newPostContent" placeholder="Escreva sua postagem..." style="width:100%;height:120px"></textarea>
    <div style="margin-top:8px">
      <button class="btn-main" id="publishPostBtn">Publicar</button>
    </div>
  </div>
</div>


commentsEl.innerHTML = `
  <div style="margin-bottom:8px">
    <input id="newComment-${postId}" placeholder="Escreva um comentÃ¡rio..." style="width:80%">
    <button class="btn-gradient" onclick="addComment('${postId}', document.getElementById('newComment-${postId}').value)">Comentar</button>
  </div>
  ${comments.map(c => `
    <div class="comment">
      <strong>${c.profiles?.display_name || "UsuÃ¡rio"}</strong>: ${c.content}
      <small>${new Date(c.created_at).toLocaleString()}</small>
    </div>
  `).join("")}
`;



  <button class="btn-gradient" onclick="reportPost('${p.id}')">ðŸš© Denunciar</button>

  <button class="btn-small" onclick="logout()">Sair</button>

<script src="assets/js/script.js"></script>
</body>
</html>
